---
import { getCollection } from 'astro:content';

const posts = await getCollection('blog');
posts.sort((a, b) => new Date(b.data.publishDate) - new Date(a.data.publishDate));
---

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fishing Blog - Adventures and Tips</title>
    <meta name="description" content="Read all the latest fishing posts, tips, and stories from our adventures on the water." />
    <style>
      body { font-family: sans-serif; background: #fff; color: #111; margin:0; padding:0; }
      header { max-width: 800px; margin: auto; text-align: center; padding: 4rem 1rem; }
      h1 { font-size: 2.5rem; margin-bottom: 0.5rem; }
      p { font-size: 1rem; color: #555; }
      main { max-width: 800px; margin: auto; padding: 2rem 1rem; }
      article { border-bottom: 1px solid #ddd; padding-bottom: 2rem; margin-bottom: 2rem; }
      a { color: #0070f3; text-decoration: none; }
      a:hover { text-decoration: underline; }
    </style>
  </head>
  <body>
    <header>
      <h1>Fishing Blog</h1>
      <p>All the latest posts, tips, and stories from our fishing adventures.</p>
      <a href="/fishing/">← Back to Home</a>
    </header>

    <main>
      {posts.map(post => (
        <article key={post.slug}>
          <h2>
            <a href={`/fishing/blog/${post.slug}/`}>{post.data.title}</a>
          </h2>
          <p>{post.data.publishDate}</p>
          <p>{post.data.description}</p>
          <a href={`/fishing/blog/${post.slug}/`}>Read More →</a>
        </article>
      ))}
    </main>
  </body>
</html>

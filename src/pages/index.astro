---
import { getCollection } from 'astro:content';

const posts = await getCollection('blog');
posts.sort((a, b) => new Date(b.data.publishDate) - new Date(a.data.publishDate));
---

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fishing Blog - Adventures & Tips</title>
    <meta name="description" content="Read all the latest fishing posts, tips, and stories from our adventures on the water." />
    <style>
      body { font-family: 'Helvetica Neue', sans-serif; background: #f8f8f8; color: #111; margin:0; padding:0; }
      header { max-width: 900px; margin: auto; text-align: center; padding: 4rem 1rem; }
      header h1 { font-size: 3rem; margin-bottom: 0.5rem; }
      header p { font-size: 1.2rem; color: #555; margin-bottom: 1rem; }

      main { max-width: 900px; margin: auto; padding: 2rem 1rem; }
      article { background: white; padding: 1.5rem; border-radius: 0.5rem; margin-bottom: 2rem; box-shadow: 0 2px 6px rgba(0,0,0,0.05); }
      article h2 { font-size: 1.8rem; margin-bottom: 0.25rem; }
      article h2 a { color: #0070f3; text-decoration: none; }
      article h2 a:hover { text-decoration: underline; }
      article p { color: #555; margin-bottom: 0.5rem; }
      .read-more { display: inline-block; margin-top: 0.5rem; color: #0070f3; text-decoration: none; font-weight: bold; }
      .read-more:hover { text-decoration: underline; }
    </style>
  </head>
  <body>
    <header>
      <h1>Fishing Blog</h1>
      <p>All the latest posts, tips, and stories from our fishing adventures.</p>
    </header>

    <main>
      {posts.map(post => (
        <article key={post.slug}>
          <h2>
            <a href={`/fishing/blog/${post.slug}/`}>{post.data.title}</a>
          </h2>
          <p>{post.data.publishDate}</p>
          <p>{post.data.description}</p>
          <a class="read-more" href={`/fishing/blog/${post.slug}/`}>Read More â†’</a>
        </article>
      ))}
    </main>
  </body>
</html>
